var starter=function(r){"use strict";var n=["Failure",-2],e=["Invalid_argument",-3],t=["Division_by_zero",-5],u=["Match_failure",-7];n.tag=248,e.tag=248,t.tag=248,u.tag=248;function i(r,n,e){for(var t=new Array(e),u=0,i=n;u<e;)t[u]=r[i],u=u+1|0,i=i+1|0;return t}function a(r,n,t){if(n<0||n>=r.length)throw[e,"index out of bounds"];return r[n]=t,0}function f(r,n){if(n<0||n>=r.length)throw[e,"index out of bounds"];return r[n]}function o(r,n){for(var e=new Array(r),t=0,u=r-1|0;t<=u;++t)e[t]=n;return e}function c(r,n){for(;;){var e=n,t=r,u=t.length,a=u||1,f=a-e.length|0;if(f){if(f<0){n=i(e,a,0|-f),r=t.apply(null,i(e,0,a));continue}return o=t,s=e,function(r){return c(o,s.concat([r]))}}return t.apply(null,e)}var o,s}function s(r,n){var e=r.length;return 1===e?r(n):function(r,n,e){if(e>7||e<0)return c(r,[n]);switch(e){case 0:case 1:return r(n);case 2:return function(e){return r(n,e)};case 3:return function(e,t){return r(n,e,t)};case 4:return function(e,t,u){return r(n,e,t,u)};case 5:return function(e,t,u,i){return r(n,e,t,u,i)};case 6:return function(e,t,u,i,a){return r(n,e,t,u,i,a)};case 7:return function(e,t,u,i,a,f){return r(n,e,t,u,i,a,f)}}}(r,n,e)}function v(r,n,e){var t=r.length;return 2===t?r(n,e):function(r,n,e,t){if(t>7||t<0)return c(r,[n,e]);switch(t){case 0:case 1:return c(r(n),[e]);case 2:return r(n,e);case 3:return function(t){return r(n,e,t)};case 4:return function(t,u){return r(n,e,t,u)};case 5:return function(t,u,i){return r(n,e,t,u,i)};case 6:return function(t,u,i,a){return r(n,e,t,u,i,a)};case 7:return function(t,u,i,a,f){return r(n,e,t,u,i,a,f)}}}(r,n,e,t)}function l(r,n,e,t){var u=r.length;return 3===u?r(n,e,t):function(r,n,e,t,u){var i=0;if(u>7||u<0)return c(r,[n,e,t]);switch(u){case 0:case 1:i=1;break;case 2:return c(r(n,e),[t]);case 3:return r(n,e,t);case 4:return function(u){return r(n,e,t,u)};case 5:return function(u,i){return r(n,e,t,u,i)};case 6:return function(u,i,a){return r(n,e,t,u,i,a)};case 7:return function(u,i,a,f){return r(n,e,t,u,i,a,f)}}return 1===i?c(r(n),[e,t]):void 0}(r,n,e,t,u)}function h(r,n){return n.tag=r,n}function d(r,n){return r<n?-1:r===n?0:1}function g(r,n){for(;;){var t=n,u=r;if(u===t)return 0;var i=typeof u,a=typeof t;if("string"===i){return u<t?-1:u===t?0:1}var f=+("number"===a);if(0!==+("number"===i))return 0!==f?d(u,t):-1;if(0!==f)return 1;if("boolean"===i||"undefined"===i||null===u){return u===t?0:u<t?-1:1}if("function"===i||"function"===a)throw[e,"compare: functional value"];var o=0|u.tag,c=0|t.tag;if(250!==o)if(250!==c){if(248===o)return d(u[1],t[1]);if(251===o)throw[e,"equal: abstract value"];if(o!==c)return o<c?-1:1;var s=0|u.length,v=0|t.length;if(s===v)for(var l=u,h=t,m=0,w=s;;){var b=m;if(b===w)return 0;var p=g(l[b],h[b]);if(0!==p)return p;m=b+1|0}else if(s<v)for(var y=u,A=t,C=0,k=s;;){var N=C;if(N===k)return-1;var _=g(y[N],A[N]);if(0!==_)return _;C=N+1|0}else for(var M=u,D=t,O=0,S=v;;){var q=O;if(q===S)return 1;var F=g(M[q],D[q]);if(0!==F)return F;O=q+1|0}}else n=t[0];else r=u[0]}}function m(r,n){for(;;){var t=n,u=r;if(u===t)return 1;var i=typeof u;if("string"===i||"number"===i||"boolean"===i||"undefined"===i||null===u)return 0;var a=typeof t;if("function"===i||"function"===a)throw[e,"equal: functional value"];if("number"===a||"undefined"===a||null===t)return 0;var f=0|u.tag,o=0|t.tag;if(250!==f)if(250!==o){if(248===f)return+(u[1]===t[1]);if(251===f)throw[e,"equal: abstract value"];if(f!==o)return 0;var c=0|u.length;if(c!==(0|t.length))return 0;for(var s=u,v=t,l=0,h=c;;){var d=l;if(d===h)return 1;if(!m(s[d],v[d]))return 0;l=d+1|0}}else n=t[0];else r=u[0]}}function w(){return[(4294967295^(0|Date.now()))*Math.random()|0]}var b=Math.imul||function(r,n){return((r>>16)*(n|=0)<<16)+(65535&r)*n|0},p=[-2147483648,0],y=[134217727,1],A=[0,1],C=[0,0],k=[-1,4294967295];function N(r){return+(0!=(2147483648&r))}function _(r,n){var e=n[1],t=r[1],u=t+e&4294967295,i=N(t)&&(N(e)||!N(u))||N(e)&&!N(u)?1:0;return[r[0]+n[0]+i&4294967295,u>>>0]}function M(r,n){return r[0]===n[0]?+(r[1]===n[1]):0}function D(r){return M(r,p)?p:_([-1^(n=r)[0],(-1^n[1])>>>0],A);var n}function O(r,n){return _(r,D(n))}function S(r,n){if(n){var e=r[1];if(n>=32)return[e<<(n-32|0),0];return[e>>>(32-n|0)|r[0]<<n,e<<n>>>0]}return r}function q(r,n){if(n){var e=r[0];if(n<32){return[e>>n,(e<<(32-n|0)|r[1]>>>n)>>>0]}return[e>=0?0:-1,e>>(n-32|0)>>>0]}return r}function F(r,n){for(;;){var e,t=n,u=r,i=0,a=u[0],f=0,o=0,c=0;if(0!==a)c=4;else{if(0===u[1])return C;c=4}if(4===c)if(0!==t[0])o=3;else{if(0===t[1])return C;o=3}if(3===o&&(-2147483648!==a?f=2:0!==u[1]?f=2:(e=t[1],i=1)),2===f){var s=t[0],v=u[1],l=0;if(-2147483648!==s?l=3:0!==t[1]?l=3:(e=v,i=1),3===l){var h=t[1];if(a<0){if(s<0){n=D(t),r=D(u);continue}return D(F(D(u),t))}if(s<0)return D(F(u,D(t)));var d=65535&a,g=v>>>16,m=65535&v,w=65535&s,b=h>>>16,y=65535&h,A=0,k=0,N=0,_=m*y;A=(k=(k=(N=(_>>>16)+g*y)>>>16)+((N=(65535&N)+m*b)>>>16)+d*y)>>>16,A+=(k=(65535&k)+g*b)>>>16,A+=(k=(65535&k)+m*w)>>>16;return[(k&=65535)|(A=A+((a>>>16)*y+d*b+g*w+m*(s>>>16))&65535)<<16,(65535&_|(65535&N)<<16)>>>0]}}if(1===i)return 0==(1&e)?C:p}}function T(r,n){var e=n[0],t=r[0];return t>e?1:t<e?0:+(r[1]>=n[1])}function x(r,n){return r[0]>n[0]?1:r[0]<n[0]?0:+(r[1]>n[1])}function L(r){return 4294967296*r[0]+r[1]}var E=Math.pow(2,32),I=Math.pow(2,63),P=-Math.pow(2,63);function U(r){if(isNaN(r)||!isFinite(r))return C;if(r<=P)return p;if(r+1>=I)return y;if(r<0)return D(U(-r));return[r/E|0,(r%E|0)>>>0]}function R(r,n){for(;;){var e=n,u=r,i=u[0],a=0,f=0;if(0!==e[0])f=2;else{if(0===e[1])throw t;f=2}if(2===f)if(-2147483648!==i)if(0!==i)a=1;else{if(0===u[1])return C;a=1}else if(0!==u[1])a=1;else{if(M(e,A)||M(e,k))return u;if(M(e,p))return A;var o=e[0],c=S(R(q(u,1),e),1),s=0;if(0!==c[0])s=3;else{if(0===c[1])return o<0?A:D(A);s=3}if(3===s){return _(c,R(_(u,D(F(e,c))),e))}}if(1===a){var v=e[0],l=0;if(-2147483648!==v)l=2;else{if(0===e[1])return C;l=2}if(2===l){if(i<0){if(v<0){n=D(e),r=D(u);continue}return D(R(D(u),e))}if(v<0)return D(R(u,D(e)));for(var h=C,d=u;T(d,e);){for(var g=Math.max(1,Math.floor(L(d)/L(e))),m=Math.ceil(Math.log(g)/Math.LN2),w=m<=48?1:Math.pow(2,m-48),b=U(g),y=F(b,e);y[0]<0||x(y,d);)y=F(b=U(g-=w),e);0===(N=b)[0]&&0===N[1]&&(b=A),h=_(h,b),d=_(d,D(y))}return h}}}var N}function V(r){return[r<0?-1:0,r>>>0]}function B(r,n,e,t,u){if(u>0){var i=r.length-n|0;if(u<=i){for(var a=0,f=u-1|0;a<=f;++a)e[t+a|0]=r.charCodeAt(n+a|0);return 0}for(var o=0,c=i-1|0;o<=c;++o)e[t+o|0]=r.charCodeAt(n+o|0);for(var s=i,v=u-1|0;s<=v;++s)e[t+s|0]=0;return 0}return 0}function z(r,n,e,t,u){if(u>0){if(r===e){var i=r,a=n,f=t,o=u;if(a<f){for(var c=(i.length-f|0)-1|0,s=o-1|0,v=c>s?s:c;v>=0;--v)i[f+v|0]=i[a+v|0];return 0}if(a>f){for(var l=(i.length-a|0)-1|0,h=o-1|0,d=l>h?h:l,g=0;g<=d;++g)i[f+g|0]=i[a+g|0];return 0}return 0}var m=r.length-n|0;if(u<=m){for(var w=0,b=u-1|0;w<=b;++w)e[t+w|0]=r[n+w|0];return 0}for(var p=0,y=m-1|0;p<=y;++p)e[t+p|0]=r[n+p|0];for(var A=m,C=u-1|0;A<=C;++A)e[t+A|0]=0;return 0}return 0}function H(r,n){if(n<0||n>=r.length)throw[e,"index out of bounds"];return r.charCodeAt(n)}var J=[0];function j(r){var n=[r,(J[0]+=1,J[0])];return n.tag=248,n}j("Pervasives.Exit");function G(r,n){return+(g(r,n)<=0)?r:n}function K(r,n){return+(g(r,n)>=0)?r:n}function Q(r,n){return r?[r[0],Q(r[1],n)]:n}function W(r,t){if(t<0)throw[e,"List.nth"];for(var u=r,i=t;;){var a=u;if(a){if(i){i=i-1|0,u=a[1];continue}return a[0]}throw[n,"nth"]}}function X(r,n){for(;;){var e=n,t=r;if(!t)return e;n=[t[0],e],r=t[1]}}function Y(r){return r?Q(r[0],Y(r[1])):0}function Z(r,n){if(n){return[s(r,n[0]),Z(r,n[1])]}return 0}function $(r,n,e){if(e){return[v(n,r,e[0]),$(r+1|0,n,e[1])]}return 0}function rr(r,n){return $(0,r,n)}function nr(r,n){for(;;){var e=n;if(!e)return 0;s(r,e[0]),n=e[1]}}function er(r,n,e){for(;;){var t=e,u=n;if(!t)return u;e=t[1],n=v(r,u,t[0])}}function tr(r,n){for(;;){var e=n;if(e){if(g(e[0],r)){n=e[1];continue}return 1}return 0}}var ur=function(r){return function(n){for(var e=0,t=n;;){var u=t,i=e;if(!u)return X(i,0);var a=u[1],f=u[0];s(r,f)?(t=a,e=[f,i]):t=a}}},ir=function(){var r="undefined"==typeof process?void 0:process;return void 0!==r?null==r.argv?["",[""]]:[r.argv[0],r.argv]:["",[""]]}();j("Sys.Break"),ir[1],ir[0],j("Js_exn.Error");function ar(r){var n=r.length;return n?i(r,0,n):[]}j("Array.Bottom");function fr(r,n){if(n){var t=n[0],u=[0],i=[0];nr(function(r){return u[0]=u[0]+1|0,i[0]=i[0]+r.length|0,0},n);var a=function(r){if(r<0)throw[e,"String.create"];return new Array(r)}(i[0]+b(r.length,u[0]-1|0)|0);B(t,0,a,0,t.length);var f=[t.length];return nr(function(n){return B(r,0,a,f[0],r.length),f[0]=f[0]+r.length|0,B(n,0,a,f[0],n.length),f[0]=f[0]+n.length|0,0},n[1]),function(r){var n=r,e=r.length,t="",u=e;if(e<=4096&&e===n.length)return String.fromCharCode.apply(null,n);for(var i=0;u>0;){var a=u<1024?u:1024,f=new Array(a);z(n,i,f,0,a),t+=String.fromCharCode.apply(null,f),u=u-a|0,i=i+a|0}return t}(a)}return""}j("CamlinternalFormat.Type_mismatch");function or(r){return 0!==r?0:1}var cr=function(r,n,e){for(var t=o(r,[]),u=0,i=r-1|0;u<=i;++u)t[u]=o(n,e);return t}(8,8,0);function sr(r,n,e){return a(f(cr,r),n,[[e,1]]),a(f(cr,r),7-n|0,[[e,0]])}for(var vr=0;vr<=7;++vr)sr(vr,1,5);sr(0,0,2),sr(7,0,2),sr(1,0,4),sr(6,0,4),sr(2,0,3),sr(5,0,3),sr(3,0,1),sr(4,0,0);var lr=[cr,1,[1,1],[1,1],0,0,0,[4,0],[4,7],0,0];function hr(r){return r>=0?+(r<=7):0}function dr(r){return hr(r[0])?hr(r[1]):0}function gr(r){var n=ar(r);return function(r,n){for(var e=0,t=n.length-1|0;e<=t;++e)v(r,e,n[e])}(function(r,e){return a(n,r,ar(e))},r),n}function mr(r){return[r[0],0]}function wr(r){return[0,r[1]]}var br=j("Ochess.Illegal_move");function pr(r,n,e){var t,u=gr(r[0]),i=function(r,n,e,t){return a(f(u,e),t,f(f(u,r),n)),a(f(u,r),n,0)},o=or(r[1]),c=r[2],s=r[3],v=[r],l=r[6],h=r[7],d=r[8],g=r[9]+1|0,m=(0|-r[10])+e|0,w=[u,o,c,s,0,v,l,h,d,g,m],b=r[1],p=0;if("number"==typeof n)if(n)if(0!==b){i(0,0,3,0),i(4,0,2,0);var y=w.slice();y[2]=[0,0],y[7]=[2,0],t=y}else{i(0,7,3,7),i(4,7,2,7);var A=w.slice();A[3]=[0,0],A[8]=[2,7],t=A}else if(0!==b){i(7,0,5,0),i(4,0,6,0);var C=w.slice();C[2]=[0,0],C[7]=[6,0],t=C}else{i(7,7,5,7),i(4,7,6,7);var k=w.slice();k[3]=[0,0],k[8]=[6,7],t=k}else if(n.tag){var N=n[2];p=1;var _=0!==b?[6,7]:[1,0],M=_[1];i(n[1],_[0],N,M),a(f(u,N),M,[[n[0],r[1]]]),t=w}else{var D=n[3],O=n[2],S=n[1],q=n[0];f(f(r[0],O),D)||(p=0),i(q,S,O,D);var F=f(f(u,O),D);if(!F)throw br;switch(F[0][0]){case 0:if(0!==r[1]){var T=w.slice();T[2]=[0,0],T[7]=[O,D],t=T}else{var x=w.slice();x[3]=[0,0],x[8]=[O,D],t=x}break;case 2:if(0!==r[1])if(0!==q)if(7!==q)t=w;else if(0!==S)t=w;else{var L=w.slice();L[2]=mr(r[3]),t=L}else if(0!==S)t=w;else{var E=w.slice();E[2]=wr(r[2]),t=E}else if(0!==q)if(7!==q)t=w;else if(7!==S)t=w;else{var I=w.slice();I[3]=mr(r[3]),t=I}else if(7!==S)t=w;else{var P=w.slice();P[3]=wr(r[2]),t=P}break;case 1:case 3:case 4:t=w;break;case 5:p=1;var U,R=f(f(u,O),D),V=r[1];if(R){var B=R[0];U=B[0]>=5?0!==B[1]?0!==V&&q===O&&1===S&&3===D?[q]:0:0!==V||q!==O||6!==S||4!==D?0:[q]:0}else U=0;var z=r[4];if(z){var H=z[0];if(H===O){0!==r[1]?5===D&&a(f(u,H),4,0):2===D&&a(f(u,H),3,0)}}var J=w.slice();J[4]=U,t=J}}var j=t.slice();return j[6]=p?0:r[6]+1|0,j}var yr=[[1,2],[[1,-2],[[2,1],[[2,-1],[[-1,2],[[-1,-2],[[-2,1],[[-2,-1],0]]]]]]]],Ar=[[-1,0],[[0,-1],[[0,1],[[1,0],0]]]],Cr=[[-1,-1],[[-1,1],[[1,-1],[[1,1],0]]]],kr=Q(Cr,Ar),Nr=[[-1,1],[[1,1],0]],_r=[[-1,-1],[[1,-1],0]];function Mr(r,n){return[r[0]+n[0]|0,r[1]+n[1]|0]}function Dr(r,n,e,t,u){return Y(Z(function(t){return function(r,n,e,t,u,i,a,o,c){for(;;){var s=c,v=o,l=u,d=t;if(v<1)return s;var g=Mr([d,l],[i,a]),m=g[1],w=g[0];if(!dr([w,m]))return s;var b=f(f(r[0],w),m);if(b)return b[0][1]!==r[1]?[h(0,[n,e,w,m]),s]:s;c=[h(0,[n,e,w,m]),s],o=v-1|0,u=m,t=w}}(r,n,e,n,e,t[0],t[1],u,0)},t))}function Or(r,n,e,t,u,i,a,o){for(;;){var c=o,s=u,v=t;if(c<1)return 0;var l=Mr([v,s],[i,a]),h=l[1],d=l[0];if(!dr([d,h]))return 0;var g=f(f(r[0],d),h);if(g){var m=g[0];return m[1]!==n?tr(m[0],e):0}o=c-1|0,u=h,t=d}}function Sr(r,n,e,t,u,i,a){for(;;){var f=i;if(!f)return 0;var o=f[0];if(Or(r,n,e,t,u,o[0],o[1],a))return 1;i=f[1]}}function qr(r,n,e,t){if(Sr(r,n,[2,[1,0]],e,t,Ar,10))return 1;if(Sr(r,n,[3,[1,0]],e,t,Cr,10))return 1;if(Sr(r,n,[4,0],e,t,yr,1))return 1;if(Sr(r,n,[0,0],e,t,kr,1))return 1;return Sr(r,n,[5,0],e,t,1===n?Nr:_r,1)}function Fr(r,n){var e,t,u=(e=r,t=n,[0!==t?e[7]:e[8]]);if(u){var i=u[0];return qr(r,n,i[0],i[1])}return 0}function Tr(r,n,e,t,u,i){if(n){if(m(f(f(r[0],i),e),[[2,r[1]]])){if(function(r,n,e,t){for(;;){var u=e;if(u>t)return 1;if(0!==f(f(r[0],u),n))return 0;e=u+1|0}}(r,e,G(t,u),K(t,u))){if(qr(r,r[1],4,e))return 0;var o=gr(r[0]);a(f(o,4),e,0),a(f(o,t),e,[[0,r[1]]]);var c=r.slice();return 1-qr((c[0]=o,c),r[1],t,e)}return 0}return 0}return 0}function xr(r,n,e){var t=function(t){return Dr(r,n,e,t,1)},u=function(t){return Dr(r,n,e,t,10)},i=f(f(r[0],n),e);if(!i)return 0;var a=i[0],o=a[1];if(o!==r[1])return 0;switch(a[0]){case 0:return Q(function(r){var n=0!==r[1]?[r[2],0]:[r[3],7],e=n[1],t=n[0];return Q(Tr(r,t[0],e,3,1,0)?[1,0]:0,Tr(r,t[1],e,5,6,7)?[0,0]:0)}(r),t(kr));case 1:return u(kr);case 2:return u(Ar);case 3:return u(Cr);case 4:return t(yr);case 5:var c=0!==o?e+1|0:e-1|0,s=[0],v=function(r){return s[0]=[r,s[0]],0},l=[3,[4,[2,[1,0]]]];if(7===c&&1===o||0===c&&0===o){f(f(r[0],n),c)||nr(function(r){return v(h(1,[r,n,n]))},l),nr(function(e){if(hr(e)){var t=f(f(r[0],e),c);return t&&t[0][1]!==o?nr(function(r){return v(h(1,[r,n,e]))},l):0}return 0},[n-1|0,[n+1|0,0]])}else{f(f(r[0],n),c)||v(h(0,[n,e,n,c])),nr(function(t){if(hr(t)){var u=f(f(r[0],t),c);return u&&u[0][1]!==o?v(h(0,[n,e,t,c])):0}return 0},[n-1|0,[n+1|0,0]])}if(1!==e){if(6===e&&!o){var d=f(f(r[0],n),5),g=f(f(r[0],n),4);d||g||v(h(0,[n,e,n,4]))}}else if(0!==o){var m=f(f(r[0],n),2),w=f(f(r[0],n),3);m||w||v(h(0,[n,e,n,3]))}var b=r[4];if(b){var p=b[0],y=0!==o?5:2;nr(function(r){return hr(r)&&r===p&&c===y?v(h(0,[n,e,r,c])):0},[n-1|0,[n+1|0,0]])}return s[0]}}var Lr=[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,3,5,5,3,0,0],[0,0,5,9,9,5,0,0],[0,0,5,9,9,5,0,0],[0,0,3,5,5,3,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]];(function(r,n,e,t){var u,i,a,o=(u=t,i=e,0!==u?i:7-i|0);switch(r){case 0:a=1e6-b(5,f(f(Lr,n),o))|0;break;case 1:a=9e3+b(10,f(f(Lr,n),o))|0;break;case 2:a=5e3+b(10,f(f(Lr,n),o))|0;break;case 3:a=3200+b(20,f(f(Lr,n),o))|0;break;case 4:a=3e3+b(30,f(f(Lr,n),o))|0;break;case 5:a=1e3+b(30,f(f(Lr,n),o))|0}b(5,o)})(0,0,0,1),j("Ochess.Interrupt"),j("Ochess.Illegal_position");function Er(r){return ur(function(n){return 1-Fr(pr(r,n,0),r[1])})(function(r){for(var n=0,e=0;e<=7;++e)for(var t=0;t<=7;++t)n=Q(xr(r,e,t),n);return n}(r))}var Ir=or,Pr=lr,Ur=pr,Rr=function(r){if((e=r)[6]>=100||function(r,n,e){for(;;){var t=e,u=n;if(t<=0)return 1;if(t<<1>u[6])return 0;var i=u[5];if(!i)return 0;var a=i[0];o=a,(f=r)[10]===o[10]&&f[1]===o[1]&&m(f[2],o[2])&&m(f[3],o[3])&&m(f[4],o[4])&&m(f[0],o[0])?(e=t-1|0,n=a):n=a}var f,o}(e,e,2))return 0;var n=Er(r);return n?h(1,[n]):Fr(r,r[1])?h(0,[or(r[1])]):0;var e};function Vr(r,n,e,t){var u=n?n[0]:0,i=r.style;return void 0!==i.setProperty?i.setProperty(e,t,u?"important":null):(a=e,f=t,r.style[a]=f,0);var a,f}function Br(r,n,e){return r.insertBefore(n,e)}function zr(r,n,e,t){return""===n?r.setAttribute(e,t):r.setAttributeNS(n,e,t)}function Hr(r,n){return""===r?document.createElement(n):document.createElementNS(r,n)}function Jr(r,n,e,t,u,i){return h(2,[r,n,e,t,u,i])}function jr(r){for(;;){var n=r;switch(0|n.tag){case 0:return"\x3c!-- "+n[0]+" --\x3e";case 1:return n[0];case 2:var e=n[1],t=n[0];return fr("",["<",[t,[""===t?"":":",[e,[fr("",Z(function(r){var n=r;if("number"==typeof n)return"";switch(0|n.tag){case 0:return fr("",[" ",[n[0],['="',[n[1],['"',0]]]]]);case 1:return fr("",[" ",[n[1],['="',[n[2],['"',0]]]]]);case 2:return fr("",[" data-",[n[0],['="',[n[1],['"',0]]]]]);case 3:return"";case 4:return fr("",[' style="',[fr(";",Z(function(r){return fr("",[r[0],[":",[r[1],[";",0]]]])},n[0])),['"',0]]])}},n[4])),[">",[fr("",Z(jr,n[5])),["</",[e,[">",0]]]]]]]]]]);case 3:r=s(n[1],0);continue;case 4:r=n[1];continue}}}function Gr(r){if(r.tag){var n=r[0];return function(){return[n]}}return r[1]}function Kr(r,n,e,t){var u,i,a=[Gr(t)],f=(u=r,i=a,function(r){var n=s(i[0],r);return n?s(u[0][0],n[0]):0});o=e,c=f,v=0,n.addEventListener(o,c,v);var o,c,v;return[[f,a]]}function Qr(r,n,e){return e?(t=r,u=n,i=e[0][0],a=0,t.removeEventListener(u,i,a),0):0;var t,u,i,a}function Wr(r,n,e,t,u,i,a,f){var o=a[0];if(o){if(e===t){if(f[0]=a[0],s=u,(v=i).tag?!s.tag||!m(v[0],s[0]):s.tag||v[0]!==s[0]){var c=Gr(i);return o[0][1][0]=c,0}return 0}return a[0]=Qr(n,e,a[0]),f[0]=Kr(r,n,t,i),0}return f[0]=Kr(r,n,t,i),0;var s,v}function Xr(r,e,t,u,i){return function(r,e,t,u){if("number"==typeof u)return 0;switch(0|u.tag){case 0:return e[u[0]]=void 0,0;case 1:return a=e,f=u[0],o=u[1],""===f?a.removeAttribute(o):a.removeAttributeNS(f,o);case 2:throw console.log(["TODO:  Remove Data Unhandled",u[0],u[1]]),[n,"TODO:  Remove Data Unhandled"];case 3:var i=u[2];return i[0]=Qr(e,u[0],i[0]),0;case 4:return er(function(r,n){return Vr(e,0,n[0],null)},0,u[0])}var a,f,o}(0,e,0,u),function(r,e,t,u){if("number"==typeof u)return 0;switch(0|u.tag){case 0:return e[u[0]]=u[1],0;case 1:return zr(e,u[0],u[1],u[2]);case 2:throw console.log(["TODO:  Add Data Unhandled",u[0],u[1]]),[n,"TODO:  Add Data Unhandled"];case 3:return u[2][0]=Kr(r,e,u[0],u[1]),0;case 4:er(function(r,n){return Vr(e,0,n[0],n[1])},0,u[0])}}(r,e,0,i),0}function Yr(r,t,u,i,a){if("number"==typeof a)throw[n,"This should never be called as all entries through NoProp are gated."];switch(0|a.tag){case 0:return t[a[0]]=a[1],0;case 1:return zr(t,a[0],a[1],a[2]);case 2:throw console.log(["TODO:  Mutate Data Unhandled",a[0],a[1]]),[n,"TODO:  Mutate Data Unhandled"];case 3:throw[n,"This will never be called because it is gated"];case 4:if("number"==typeof i)throw[n,"Passed a non-Style to a new Style as a Mutations while the old Style is not actually a style!"];if(4===i.tag)return function(r,n,t,u){for(;;){var i=u,a=t,f=n;if(a){if(i){u=i[1],t=a[1],n=l(r,f,a[0],i[0]);continue}throw[e,"List.fold_left2"]}if(i)throw[e,"List.fold_left2"];return f}}(function(r,n,e){var u=e[1],i=e[0],a=n[0];return a===i?n[1]===u?0:Vr(t,0,i,u):(Vr(t,0,a,null),Vr(t,0,i,u))},0,i[0],a[0]);throw[n,"Passed a non-Style to a new Style as a Mutations while the old Style is not actually a style!"]}}function Zr(r,n,e,t){return function(r,n,e,t,u){for(;;){var i=u,a=t,f=e;if(!a)return i?0:1;var o=a[0],c=0;if(!i)return 0;if("number"==typeof o){if("number"==typeof i[0]){u=i[1],t=a[1],e=f+1|0;continue}c=1}else switch(0|o.tag){case 0:var s=i[0];if("number"==typeof s)c=1;else{if(!s.tag){o[0]===s[0]&&o[1]===s[1]||Yr(0,n,0,o,s),u=i[1],t=a[1],e=f+1|0;continue}c=1}break;case 1:var v=i[0];if("number"==typeof v)c=1;else{if(1===v.tag){o[0]===v[0]&&o[1]===v[1]&&o[2]===v[2]||Yr(0,n,0,o,v),u=i[1],t=a[1],e=f+1|0;continue}c=1}break;case 2:var l=i[0];if("number"==typeof l)c=1;else{if(2===l.tag){o[0]===l[0]&&o[1]===l[1]||Yr(0,n,0,o,l),u=i[1],t=a[1],e=f+1|0;continue}c=1}break;case 3:var h=i[0];if("number"==typeof h)c=1;else{if(3===h.tag){Wr(r,n,o[0],h[0],o[1],h[1],o[2],h[2]),u=i[1],t=a[1],e=f+1|0;continue}c=1}break;case 4:var d=i[0];if("number"==typeof d)c=1;else{if(4===d.tag){m(o[0],d[0])||Yr(0,n,0,o,d),u=i[1],t=a[1],e=f+1|0;continue}c=1}}1!==c||(Xr(r,n,0,o,i[0]),u=i[1],t=a[1],e=f+1|0)}}(r,n,0,e,t)}function $r(r,e,t,i,a){if(2===a.tag){var o=a[4],c=f(t,i),s=Hr(a[0],a[1]);if(0!==Zr(r,s,Z(function(){return 0},o),o)){return en(r,s,s.childNodes,0,0,a[5]),Br(e,s,c),e.removeChild(c),0}throw[u,["/Users/daniel/Playground/tea-chess/node_modules/bucklescript-tea/src/vdom.ml",319,30]]}throw[n,"Node replacement should never be passed anything but a node itself"]}function rn(r,n){for(;;){var e=n,t=r;switch(0|e.tag){case 0:var i=e[0];return document.createComment(i);case 1:var a=e[0];return document.createTextNode(a);case 2:var f=e[4],o=Hr(e[0],e[1]);if(0!==Zr(t,o,Z(function(){return 0},f),f)){return en(t,o,o.childNodes,0,0,e[5]),o}throw[u,["/Users/daniel/Playground/tea-chess/node_modules/bucklescript-tea/src/vdom.ml",333,30]];case 3:var c=s(e[1],0);e[2][0]=c,n=c;continue;case 4:n=e[1],r=s(e[0],t);continue}}}function nn(r,e,t,u,i,a){if(2===i.tag){if(2===a.tag){if(i[3]!==a[3]||i[1]!==a[1])return $r(r,e,t,u,a);var o=f(t,u),c=o.childNodes;return Zr(r,o,i[4],a[4])||(console.log("VDom:  Failed swapping properties because the property list length changed, use `noProp` to swap properties instead, not by altering the list structure.  This is a massive inefficiency until this issue is resolved."),$r(r,e,t,u,a)),en(r,o,c,0,i[5],a[5])}throw[n,"Non-node passed to patchVNodesOnElems_MutateNode"]}throw[n,"Non-node passed to patchVNodesOnElems_MutateNode"]}function en(r,n,e,t,u,i){for(;;){var a=i,o=u,c=t;if(!o){if(a){var v=rn(r,a[0]);n.appendChild(v),i=a[1],u=0,t=c+1|0;continue}return 0}var l=o[0],h=0;switch(0|l.tag){case 0:if(a){var d=a[0];if(d.tag)h=1;else{if(l[0]===d[0]){i=a[1],u=o[1],t=c+1|0;continue}h=1}}else h=1;break;case 1:if(a){var g=a[0];if(1===g.tag){var m=g[0];if(l[0]!==m){f(e,c).nodeValue=m}i=a[1],u=o[1],t=c+1|0;continue}h=1}else h=1;break;case 2:if(a){var w=a[0];if(2===w.tag){var b=a[1],p=w[2],y=w[1],A=w[0],C=o[1],k=l[2],N=l[1],_=l[0];if(k===p&&""!==k){i=b,u=C,t=c+1|0;continue}if(""===k||""===p){nn(r,n,e,c,l,w),i=b,u=C,t=c+1|0;continue}var M=0,D=0;if(C){var O=C[0];if(2===O.tag){var S=C[1],q=O[2],F=O[1],T=O[0],x=0;if(b){var L=b[0];if(2===L.tag){if(T===A&&F===y&&q===p&&_===L[0]&&N===L[1]&&k===L[2]){var E=f(e,c),I=f(e,c+1|0);n.removeChild(I),Br(n,I,E),i=b[1],u=S,t=c+2|0;continue}x=4}else x=4}else x=4;if(4===x){if(T===A&&F===y&&q===p){var P=f(e,c);n.removeChild(P),i=b,u=S,t=c+1|0;continue}D=3}}else D=3}else D=3;if(3===D)if(b){var U=b[0];if(2===U.tag){if(_===U[0]&&N===U[1]&&k===U[2]){var R=f(e,c);Br(n,rn(r,w),R),i=b,t=c+1|0;continue}M=2}else M=2}else M=2;if(2===M){nn(r,n,e,c,l,w),i=b,u=C,t=c+1|0;continue}}else h=1}else h=1;break;case 3:if(a){var V=a[0];if(3===V.tag){var B=a[1],z=V[2],H=V[1],J=V[0],j=o[1],G=l[2],K=l[0];if(K===J){z[0]=G[0],i=B,u=j,t=c+1|0;continue}var Q=0,W=0;if(j){var X=j[0];if(3===X.tag){var Y=j[1],Z=X[0],$=0;if(B){var rr=B[0];if(3===rr.tag){if(Z===J&&K===rr[0]){var nr=f(e,c),er=f(e,c+1|0);n.removeChild(er),Br(n,er,nr),i=B[1],u=Y,t=c+2|0;continue}$=4}else $=4}else $=4;if(4===$){if(Z===J){var tr=f(e,c);n.removeChild(tr);var ur=X[2][0];z[0]=ur,i=B,u=Y,t=c+1|0;continue}W=3}}else W=3}else W=3;if(3===W)if(B){var ir=B[0];if(3===ir.tag){if(ir[0]===K){var ar=f(e,c),fr=s(H,0);z[0]=fr;Br(n,rn(r,fr),ar),i=B,t=c+1|0;continue}Q=2}else Q=2}else Q=2;if(2===Q){var or=G[0],cr=s(H,0);z[0]=cr,i=[cr,B],u=[or,j];continue}}else h=1}else h=1;break;case 4:u=[l[1],o[1]];continue}if(1!==h);else{var sr=o[1];if(a){var vr=a[0];if(4===vr.tag){en(s(vr[0],r),n,e,c,[l,0],[vr[1],0]),i=a[1],u=sr,t=c+1|0;continue}var lr=f(e,c);Br(n,rn(r,vr),lr),n.removeChild(lr),i=a[1],u=sr,t=c+1|0;continue}var hr=f(e,c);n.removeChild(hr),i=0,u=sr}}}function tn(r,n){if("number"==typeof n)return 0;switch(0|n.tag){case 1:return er(function(n,e){return tn(r,e)},0,n[0]);case 0:case 2:return s(n[0],r)}}function un(r,n){return h(0,[function(e){return tn((t=r,u=e,[[function(r){return s(u[0][0],s(t,r))}]]),n);var t,u}])}var an=0;function fn(r){return h(1,[r])}function on(r,n,e,t,u,i){return Jr(r?r[0]:"",n,e?e[0]:"",t?t[0]:"",u,i)}function cn(r,n,e,t){return Jr("","div",r?r[0]:"",n?n[0]:"",e,t)}function sn(r,n,e,t){return Jr("","p",r?r[0]:"",n?n[0]:"",e,t)}function vn(r,n,e,t){return Jr("","button",r?r[0]:"",n?n[0]:"",e,t)}function ln(r){return h(3,["click",h(1,[r]),[0]])}var hn=h(0,[""]);var dn=[vn(0,0,[ln(0),0],[fn("flip board"),0]),0];function gn(r,n){var e=0!==n[0]?[[0,[1,[2,[3,[4,[5,[6,[7,0]]]]]]]],[7,[6,[5,[4,[3,[2,[1,[0,0]]]]]]]]]:[[7,[6,[5,[4,[3,[2,[1,[0,0]]]]]]]],[0,[1,[2,[3,[4,[5,[6,[7,0]]]]]]]]],t=e[0];return on(0,"cb-board",0,0,0,Z(function(n){return on(0,"cb-row",0,0,0,Z(function(e){var t,u=n,i=f(f(r,e),u);if(i){var a=i[0];t=on(0,"cb-piece",0,0,[(o=[[(c=a[1],0!==c?"white":"black"),1],[[function(r){switch(r){case 0:return"king";case 1:return"queen";case 2:return"rook";case 3:return"bishop";case 4:return"knight";case 5:return"pawn"}}(a[0]),1],0]],h(0,["className",fr(" ",Z(function(r){return r[0]},ur(function(r){return r[1]})(o)))])),0],0)}else t=hn;var o,c;return on(0,"cb-square",0,0,0,[t,0])},t))},e[1]))}function mn(r,n,e,t){var u=function(r,n){for(;;){var e=n,t=r;if("number"==typeof e)return 0;switch(0|e.tag){case 0:var i=e[0];return i?nr((f=t,function(r){return u(f,r)}),i):0;case 1:return e[2][0]=[s(e[1],t)],0;case 2:var a=s(e[0],t);n=e[1],r=a;continue}}var f},i=function(r,n){for(;;){var e=n,t=r;if("number"==typeof e)return 0;switch(0|e.tag){case 0:var u=e[0];return u?nr((c=t,function(r){return i(c,r)}),u):0;case 1:var a=e[2],f=a[0];return f?(a[0]=0,s(f[0],0)):0;case 2:var o=s(e[0],t);n=e[1],r=o;continue}}var c},a=0;if("number"==typeof e){if("number"==typeof t)return t;a=1}else switch(0|e.tag){case 0:if("number"==typeof t)a=1;else{if(!t.tag){return function(e,t){for(;;){var a=t,f=e;if(f){var o=f[1],c=f[0];if(a){mn(r,n,c,a[0]),t=a[1],e=o;continue}i(r,c),t=0,e=o}else{if(!a)return 0;u(n,a[0]),t=a[1],e=0}}}(e[0],t[0]),t}a=1}break;case 1:if("number"==typeof t)a=1;else if(1===t.tag){if(e[0]===t[0])return t[2][0]=e[2][0],t;a=1}else a=1;break;case 2:if("number"==typeof t)a=1;else{if(2===t.tag){return mn(s(e[0],r),s(t[0],n),e[1],t[1]),t}a=1}}if(1===a)return i(r,e),u(n,t),t}var wn=0;function bn(r,e,t){var u=[r],i=[[function(){return console.log("INVALID enqueue CALL!"),0}]],a=s(e,i),f=[0],o=function(r){var e=f[0];if(e)return f[0]=[[r,e[0]]],0;f[0]=[0];var t=v(a[2],u[0],r);u[0]=t;var i=f[0];if(i){var c=i[0];return c?(f[0]=0,nr(o,X(c,0))):(f[0]=0,0)}throw[n,"INVALID message queue state, should never be None during message processing!"]},c=[o];i[0]=c;return s(a[0],0),{pushMsg:o,shutdown:function(){i[0]=[function(){return console.log("INVALID message enqueued when shut down"),0}];var r=s(t,u[0]);return s(a[3],r),0},getHtmlString:function(){return s(a[1],u[0])}}}function pn(r,n,e,t,u,i){if(i){var a=i[0];return function(i){var f=[0],o=[t],c=[0],l=function(){if(c[0]){var r=[s(n,o[0]),0],e=(t=i,u=a,v=f[0],l=r,en(t,u,u.childNodes,0,v,l),l);return f[0]=e,c[0]=0,0}return 0;var t,u,v,l},h=function(){for(;a.childNodes.length>0;){var r=a.firstChild;null!==r&&a.removeChild(r)}return 0},d=[0],g=function(r){var n=s(e,r);return d[0]=mn(i,i,d[0],n),0};return[function(){return h(),tn(i,u),g(o[0]),c[0]=[-1],l(),0},function(r){return jr(s(n,r))},function(n,e){var t=v(r,n,e),u=t[0];return o[0]=u,tn(i,t[1]),!c[0]&&(c[0]=[-1],l()),g(u),u},function(r){return c[0]=0,tn(i,r),d[0]=mn(i,i,d[0],0),f[0]=0,h(),0}]}}return function(i){var a=[0],f=function(r){var n=s(e,r);return a[0]=mn(i,i,a[0],n),0};return[function(){return tn(i,u),f(t),0},function(r){return jr(s(n,r))},function(n,e){var t=v(r,n,e),u=t[0];return tn(i,t[1]),f(u),u},function(r){return tn(i,r),a[0]=mn(i,i,a[0],0),0}]}}function yn(r,n,e){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),function(){for(var r=0,n=["ms","moz","webkit","o"],e=0;e<n.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[n[e]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n[e]+"CancelAnimationFrame"]||window[n[e]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(n,e){var t=(new Date).getTime(),u=Math.max(0,16-(t-r)),i=window.setTimeout(function(){n(t+u)},u);return r=t+u,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(r){clearTimeout(r)})}();var t=s(r[0],e),u=t[0],i=null==n?0:[n];return bn(u,pn(r[1],r[2],r[3],u,t[1],i),r[4])}var An=function(r,n){return h(4,[function(n){return[[function(e){return s(n[0][0],s(r,e))}]]},n])},Cn=2147483647,kn=[2147483647,4294967295];function Nn(r,n,e,t,u,i){var a=((n+r|0)+t|0)+i|0;return(a<<u|a>>>(32-u|0)|0)+e|0}function _n(r,n,e,t,u,i,a){return Nn(n&e|(-1^n)&t,r,n,u,i,a)}function Mn(r,n,e,t,u,i,a){return Nn(n&t|e&(-1^t),r,n,u,i,a)}function Dn(r,n,e,t,u,i,a){return Nn(n^e^t,r,n,u,i,a)}function On(r,n,e,t,u,i,a){return Nn(e^(n|-1^t),r,n,u,i,a)}function Sn(r,n){var e=r[0],t=r[1],u=r[2],i=r[3];return t=On(t=On(t=On(t=On(t=Dn(t=Dn(t=Dn(t=Dn(t=Mn(t=Mn(t=Mn(t=Mn(t=_n(t=_n(t=_n(t=_n(t,u=_n(u,i=_n(i,e=_n(e,t,u,i,n[0],7,-680876936),t,u,n[1],12,-389564586),e,t,n[2],17,606105819),i,e,n[3],22,-1044525330),u=_n(u,i=_n(i,e=_n(e,t,u,i,n[4],7,-176418897),t,u,n[5],12,1200080426),e,t,n[6],17,-1473231341),i,e,n[7],22,-45705983),u=_n(u,i=_n(i,e=_n(e,t,u,i,n[8],7,1770035416),t,u,n[9],12,-1958414417),e,t,n[10],17,-42063),i,e,n[11],22,-1990404162),u=_n(u,i=_n(i,e=_n(e,t,u,i,n[12],7,1804603682),t,u,n[13],12,-40341101),e,t,n[14],17,-1502002290),i,e,n[15],22,1236535329),u=Mn(u,i=Mn(i,e=Mn(e,t,u,i,n[1],5,-165796510),t,u,n[6],9,-1069501632),e,t,n[11],14,643717713),i,e,n[0],20,-373897302),u=Mn(u,i=Mn(i,e=Mn(e,t,u,i,n[5],5,-701558691),t,u,n[10],9,38016083),e,t,n[15],14,-660478335),i,e,n[4],20,-405537848),u=Mn(u,i=Mn(i,e=Mn(e,t,u,i,n[9],5,568446438),t,u,n[14],9,-1019803690),e,t,n[3],14,-187363961),i,e,n[8],20,1163531501),u=Mn(u,i=Mn(i,e=Mn(e,t,u,i,n[13],5,-1444681467),t,u,n[2],9,-51403784),e,t,n[7],14,1735328473),i,e,n[12],20,-1926607734),u=Dn(u,i=Dn(i,e=Dn(e,t,u,i,n[5],4,-378558),t,u,n[8],11,-2022574463),e,t,n[11],16,1839030562),i,e,n[14],23,-35309556),u=Dn(u,i=Dn(i,e=Dn(e,t,u,i,n[1],4,-1530992060),t,u,n[4],11,1272893353),e,t,n[7],16,-155497632),i,e,n[10],23,-1094730640),u=Dn(u,i=Dn(i,e=Dn(e,t,u,i,n[13],4,681279174),t,u,n[0],11,-358537222),e,t,n[3],16,-722521979),i,e,n[6],23,76029189),u=Dn(u,i=Dn(i,e=Dn(e,t,u,i,n[9],4,-640364487),t,u,n[12],11,-421815835),e,t,n[15],16,530742520),i,e,n[2],23,-995338651),u=On(u,i=On(i,e=On(e,t,u,i,n[0],6,-198630844),t,u,n[7],10,1126891415),e,t,n[14],15,-1416354905),i,e,n[5],21,-57434055),u=On(u,i=On(i,e=On(e,t,u,i,n[12],6,1700485571),t,u,n[3],10,-1894986606),e,t,n[10],15,-1051523),i,e,n[1],21,-2054922799),u=On(u,i=On(i,e=On(e,t,u,i,n[8],6,1873313359),t,u,n[15],10,-30611744),e,t,n[6],15,-1560198380),i,e,n[13],21,1309151649),u=On(u,i=On(i,e=On(e,t,u,i,n[4],6,-145523070),t,u,n[11],10,-1120210379),e,t,n[2],15,718787259),i,e,n[9],21,-343485551),r[0]=e+r[0]|0,r[1]=t+r[1]|0,r[2]=u+r[2]|0,r[3]=i+r[3]|0,0}var qn=[1732584193,-271733879,-1732584194,271733878],Fn=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function Tn(r){return function(r,n,e){var t=r.slice(n,e),u=t.length;qn[0]=1732584193,qn[1]=-271733879,qn[2]=-1732584194,qn[3]=271733878;for(var i=0;i<=15;++i)Fn[i]=0;for(var a=u/64|0,f=1;f<=a;++f){for(var o=0;o<=15;++o){var c=((f<<6)-64|0)+(o<<2)|0;Fn[o]=((t.charCodeAt(c)+(t.charCodeAt(c+1|0)<<8)|0)+(t.charCodeAt(c+2|0)<<16)|0)+(t.charCodeAt(c+3|0)<<24)|0}Sn(qn,Fn)}for(var s=t.slice(a<<6),v=0;v<=15;++v)Fn[v]=0;for(var l=s.length-1|0,h=0;h<=l;++h)Fn[h/4|0]=Fn[h/4|0]|s.charCodeAt(h)<<(h%4<<3);var d=l+1|0;if(Fn[d/4|0]=Fn[d/4|0]|128<<(d%4<<3),d>55){Sn(qn,Fn);for(var g=0;g<=15;++g)Fn[g]=0}return Fn[14]=u<<3,Sn(qn,Fn),String.fromCharCode(255&qn[0],qn[0]>>8&255,qn[0]>>16&255,qn[0]>>24&255,255&qn[1],qn[1]>>8&255,qn[1]>>16&255,qn[1]>>24&255,255&qn[2],qn[2]>>8&255,qn[2]>>16&255,qn[2]>>24&255,255&qn[3],qn[3]>>8&255,qn[3]>>16&255,qn[3]>>24&255)}(r,0,r.length)}function xn(r,n){return function(r,n,t,u,i){if(i<0||n<0||n>(r.length-i|0)||u<0||u>(t.length-i|0))throw[e,"Array.blit"];(function(r,n,e,t,u){if(t<=n){for(var i=0,a=u-1|0;i<=a;++i)e[i+t|0]=r[i+n|0];return 0}for(var f=u-1|0;f>=0;--f)e[f+t|0]=r[f+n|0]})(r,n,t,u,i)}(n[0],0,r[0],0,55),r[1]=n[1],0}function Ln(r,n){for(var e=n.length?n:[0],t=e.length,u=0;u<=54;++u)a(r[0],u,u);for(var i="x",o=0,c=54+K(55,t)|0;o<=c;++o){var s=o%55;l=i,h=f(e,o%t),i=Tn(l+h),a(r[0],s,1073741823&(f(r[0],s)^(v=i,((H(v,0)+(H(v,1)<<8)|0)+(H(v,2)<<16)|0)+(H(v,3)<<24)|0)))}var v,l,h;return r[1]=0,0}function En(r){var n=[o(55,0),0];return Ln(n,r),n}function In(r){var n=[o(55,0),0];return xn(n,r),n}function Pn(r){r[1]=(r[1]+1|0)%55;var n=f(r[0],r[1]),e=1073741823&(f(r[0],(r[1]+24|0)%55)+(n^n>>>25&31)|0);return a(r[0],r[1],e),e}function Un(r,n){if(n<=0)throw[e,"Random.int32"];for(var t=r,u=n;;){var i=Pn(t)|(1&Pn(t))<<30,a=i%u;if(!((i-a|0)>(1+(Cn-u|0)|0)))return a}}function Rn(r,n){if(1-x(n,[0,0]))throw[e,"Random.int64"];for(var t=r,u=n;;){var i=V(Pn(t)),a=S(V(Pn(t)),30),f=S(V(7&Pn(t)),60),o=(l=i,h=[a[0]|f[0],(a[1]|f[1])>>>0],[l[0]|h[0],(l[1]|h[1])>>>0]),c=(s=o,v=u,_(s,D(F(R(s,v),v))));if(!x(O(o,c),_(O(kn,u),[0,1])))return c}var s,v,l,h}var Vn=[[987910699,495797812,364182224,414272206,318284740,990407751,383018966,270373319,840823159,24560019,536292337,512266505,189156120,730249596,143776328,51606627,140166561,366354223,1003410265,700563762,981890670,913149062,526082594,1021425055,784300257,667753350,630144451,949649812,48546892,415514493,258888527,511570777,89983870,283659902,308386020,242688715,482270760,865188196,1027664170,207196989,193777847,619708188,671350186,149669678,257044018,87658204,558145612,183450813,28133145,901332182,710253903,510646120,652377910,409934019,801085050],0];var Bn=[En,function(){return En(w())},In,Pn,function(r,n){if(n>1073741823||n<=0)throw[e,"Random.int"];for(var t=r,u=n;;){var i=Pn(t),a=i%u;if(!((i-a|0)>(1+(1073741823-u|0)|0)))return a}},Un,function(r,n){return 0|Rn(r,V(n))[1]},Rn,function(r,n){return(Pn(e=r)/1073741824+Pn(e))/1073741824*n;var e},function(r){return+(0==(1&Pn(r)))}];!function(){return r=w(),Ln(Vn,r);var r}();function zn(r,n){var e=n[0];return h(2,[function(n){var t=In(Vn),u=s(e,t);xn(Vn,t);return s(n[0][0],s(r,u))}])}function Hn(){return[[Pr,[[1],0]],an]}function Jn(r,n,e){return rr(function(e,t){return e===r?n:t},e)}function jn(r,n){if(n){var e=n[1];return r?[n[0],jn(r-1|0,e)]:e}return 0}function Gn(r,n){if("number"==typeof n){if(n)return[[r[0],[[1],r[1]]],an];var e,t=Rr(r[0]);if("number"==typeof t)e=an;else if(t.tag){var u=t[0];e=zn(function(r){return h(1,[W(u,r)])},(o=0,c=function(r){for(var n=0,e=r;;){var t=e,u=n;if(!t)return u;e=t[1],n=u+1|0}}(u),[function(r){return o+Bn[4](r,c)|0}]))}else e=an;return[r,e]}switch(0|n.tag){case 0:var i=n[0],a=(f=W(r[1],i),n[1],[[Ir(f[0])],an]);return[[r[0],Jn(i,a[0],r[1])],un(function(r){return h(0,[i,r])},a[1])];case 1:return[[Ur(r[0],n[0],0),r[1]],an];case 2:return[[r[0],jn(n[0],r[1])],an]}var f,o,c}function Kn(r){return cn(0,0,0,[sn(0,0,0,[vn(0,0,[ln(0),0],[fn("random move"),0]),[vn(0,0,[ln(1),0],[fn("add board"),0]),0]]),rr(function(n,e){return cn(0,0,0,[An(function(r){return h(0,[n,r])},gn(r[0][0],e)),[sn(0,0,0,[vn(0,0,[ln(h(2,[n])),0],[fn("delete board"),0]),Z(function(r){return An(function(r){return h(0,[n,r])},r)},dn)]),0]])},r[1])])}function Qn(){return wn}var Wn=[Hn,Gn,Kn,Qn];return r.board_msg=function(r,n){return h(0,[r,n])},r.random_button=0,r.random_move=function(r){return h(1,[r])},r.add_board=1,r.delete_board=function(r){return h(2,[r])},r.init=Hn,r.replace_nth=Jn,r.delete_nth=jn,r.update=Gn,r.view=Kn,r.subscriptions=Qn,r.main=function(r,n){return t=r,u=n,yn([(e=Wn)[0],e[1],e[2],e[3],function(){return 0}],t,u);var e,t,u},r}({});
